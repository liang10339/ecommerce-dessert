(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6446ceb8"],{"0d32":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-7"},[a("h4",{staticClass:"font-weight-bold"},[t._v("商品介紹")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 my-4"},[a("div",{staticClass:"card border-0 mb-4"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toCategory("甜點")}}},[a("div",{staticClass:"rounded-0",staticStyle:{height:"300px","background-size":"cover","background-position":"center","background-image":"url('https://images.unsplash.com/photo-1505253892657-6fcc8796949c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80')"}})]),t._m(0)])]),a("div",{staticClass:"col-lg-4 my-4"},[a("div",{staticClass:"card border-0 mb-4"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toCategory("蛋糕")}}},[a("div",{staticClass:"rounded-0",staticStyle:{height:"300px","background-size":"cover","background-position":"center","background-image":"url('https://images.unsplash.com/photo-1588195538326-c5b1e9f80a1b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1247&q=80')"}})]),t._m(1)])]),a("div",{staticClass:"col-lg-4 my-4"},[a("div",{staticClass:"card border-0 mb-4"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toCategory("餅乾")}}},[a("div",{staticClass:"rounded-0",staticStyle:{height:"300px","background-size":"cover","background-position":"center","background-image":"url('https://images.unsplash.com/photo-1557310717-d6bea9f36682?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80')"}})]),t._m(2)])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-body p-0"},[a("h4",{staticClass:"mb-0 mt-4"},[t._v("甜點")]),a("div",{staticClass:"d-flex justify-content-between mt-3"},[a("p",{staticClass:"card-text text-muted mb-0 w-75"},[t._v("精緻外表加上豐富口感，細細品嚐最幸福")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-body p-0"},[a("h4",{staticClass:"mb-0 mt-4"},[t._v("蛋糕")]),a("div",{staticClass:"d-flex justify-content-between mt-3"},[a("p",{staticClass:"card-text text-muted mb-0 w-75"},[t._v("想品嘗戀愛的好，先來吃一口甜而不膩的蛋糕")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-body p-0"},[a("h4",{staticClass:"mb-0 mt-4"},[t._v("餅乾")]),a("div",{staticClass:"d-flex justify-content-between mt-3"},[a("p",{staticClass:"card-text text-muted mb-0 w-75"},[t._v("新鮮烘焙、手工製作，就是想把幸福的美味分享給你各位")])])])}],r={data:function(){return{}},methods:{toCategory:function(t){this.$router.push({name:"products",params:{categoryName:t}})}}},n=r,c=a("2877"),o=Object(c["a"])(n,i,s,!1,null,null,null);e["a"]=o.exports},"159b":function(t,e,a){var i=a("da84"),s=a("fdbc"),r=a("17c2"),n=a("9112");for(var c in s){var o=i[c],u=o&&o.prototype;if(u&&u.forEach!==r)try{n(u,"forEach",r)}catch(l){u.forEach=r}}},"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,s=a("a640"),r=a("ae40"),n=s("forEach"),c=r("forEach");t.exports=n&&c?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,a){"use strict";var i=a("23e7"),s=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"65f0":function(t,e,a){var i=a("861d"),s=a("e8b5"),r=a("b622"),n=r("species");t.exports=function(t,e){var a;return s(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?i(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},a640:function(t,e,a){"use strict";var i=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&i((function(){a.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,a){var i=a("83ab"),s=a("d039"),r=a("5135"),n=Object.defineProperty,c={},o=function(t){throw t};t.exports=function(t,e){if(r(c,t))return c[t];e||(e={});var a=[][t],u=!!r(e,"ACCESSORS")&&e.ACCESSORS,l=r(e,0)?e[0]:o,d=r(e,1)?e[1]:void 0;return c[t]=!!a&&!s((function(){if(u&&!i)return!0;var t={length:-1};u?n(t,1,{enumerable:!0,get:o}):t[1]=1,a.call(t,l,d)}))}},b64b:function(t,e,a){var i=a("23e7"),s=a("7b0b"),r=a("df75"),n=a("d039"),c=n((function(){r(1)}));i({target:"Object",stat:!0,forced:c},{keys:function(t){return r(s(t))}})},b727:function(t,e,a){var i=a("0366"),s=a("44ad"),r=a("7b0b"),n=a("50c4"),c=a("65f0"),o=[].push,u=function(t){var e=1==t,a=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d;return function(p,v,b,m){for(var h,g,C=r(p),y=s(C),x=i(v,b,3),_=n(y.length),w=0,L=m||c,k=e?L(p,_):a?L(p,0):void 0;_>w;w++)if((f||w in y)&&(h=y[w],g=x(h,w,C),t))if(e)k[w]=g;else if(g)switch(t){case 3:return!0;case 5:return h;case 6:return w;case 2:o.call(k,h)}else if(l)return!1;return d?-1:u||l?l:k}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},b789:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"container"},[0!=t.carts.length?a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"ec-container col-md-6 bg-white py-5"},[t._m(0),t._l(t.carts,(function(e){return a("div",{key:e.product.id+1},[a("div",{staticClass:"d-flex mt-4 bg-light"},[a("div",{staticClass:"rounded-0",staticStyle:{width:"130px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.product.imageUrl[0]+")"}}),a("div",{staticClass:"w-100 p-3 position-relative"},[a("a",{staticClass:"position-absolute",staticStyle:{top:"16px",right:"16px"},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.removeCartItem(e.product.id)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),a("p",{staticClass:"mb-0 font-weight-bold"},[t._v(" "+t._s(e.product.title)+" ")]),a("p",{staticClass:"mb-1 text-muted",staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(e.product.description)+" ")]),a("div",{staticClass:"d-flex justify-content-between align-items-center w-100 mt-3"},[a("div",{staticClass:"input-group w-50 align-items-center"},[a("div",{staticClass:"input-group-append pr-1"},[a("button",{staticClass:"btn btn-outline-brown btn-sm border-0",attrs:{disabled:1===e.quantity},on:{click:function(a){return a.preventDefault(),t.quantityUpdate(e.product.id,e.quantity-1)}}},[a("span",{staticClass:"glyphicon"},[t._v("−")])])]),a("input",{staticClass:"form-control border-0 text-center my-auto shadow-none bg-light px-0",attrs:{id:"quantity",type:"number",disabled:""},domProps:{value:e.quantity},on:{change:function(a){return t.quantityUpdate(e.product.id,a.target.value)}}}),a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn btn-default btn-sm",attrs:{disabled:5===e.quantity},on:{click:function(a){return a.preventDefault(),t.quantityUpdate(e.product.id,e.quantity+1)}}},[a("span",{staticClass:"glyphicon"},[t._v("+")])])])]),a("p",{staticClass:"mb-0 ml-auto info-text"},[t._v(" "+t._s(e.product.price)+" 元 ")])])])])])})),a("div",{staticStyle:{"margin-left":"124px"}},[a("div",{staticClass:"d-flex justify-content-between mt-5"},[a("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v("總計")]),a("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v(" "+t._s(t.cartTotal)+" ")])])]),a("div",{staticClass:"d-flex mt-4 justify-content-between\n              align-items-md-center align-items-end w-100"},[a("router-link",{staticClass:"text-dark mt-5 h5",attrs:{to:"/products"}},[t._v(" 繼續購物 ")]),a("router-link",{staticClass:"text-dark mt-5 h5",attrs:{to:"/order"}},[t._v(" 確認訂單 ")])],1)],2)]):a("div",[t._m(1),a("div",{staticClass:"d-flex justify-content-end"},[a("router-link",{staticClass:"text-dark ",attrs:{to:"/products"}},[a("h4",[t._v("繼續購物")])])],1)]),a("div",{staticClass:"mt-7"},[a("Category")],1)])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between mb-5"},[a("h2",{staticClass:"mt-2 text-brown font-weight-bold"},[t._v("購物車")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center my-7"},[a("h2",{staticClass:"mb-5 mt-5 warning-text"},[t._v("購物車無商品，快去逛逛")])])}],r=(a("4160"),a("b64b"),a("159b"),a("cd54")),n=a("0d32"),c=a("dc59"),o={data:function(){return{carts:[],cartTotal:0,isLoading:!1}},components:{Category:n["a"]},created:function(){this.getCart()},methods:{getCart:function(){var t=this,e=[],a=[];t.isLoading=!0,c["a"].database().ref("cart").once("value",(function(i){if(i.exists()){i.forEach((function(t){e.push(Object.keys(t.val())),a.push(t.val())})),t.carts=a;var s=function(e){c["a"].database().ref("data").child(e).once("value",(function(a){t.carts[e].product=a.val()}))};for(var n in e)s(n);t.updateTotal()}else r["a"].fire({title:"無法取得資料，稍後再試",icon:"error"});t.isLoading=!1}));var i=t.$route.params.categoryName;i&&(t.filterCategory=i)},updateTotal:function(){var t=this,e=0,a=0,i=0,s=function(s){c["a"].database().ref("data").child(s).once("value",(function(r){a=r.val().price,i=t.carts[s].quantity,e+=a*i,t.cartTotal=e}))};for(var r in t.carts)s(r)},quantityUpdate:function(t,e){this.isLoading=!0,e<=0||(c["a"].database().ref("cart").child(t).update({quantity:e})?(this.getCart(),r["a"].fire({text:"商品已更正數量",icon:"success"}),this.isLoading=!1):(r["a"].fire({title:"商品無法更新數量，稍後再試",icon:"error"}),this.isLoading=!1))},removeCartItem:function(t){var e=this;this.isLoading=!0,c["a"].database().ref("cart").child(t).remove().then((function(){e.$bus.$emit("update-total"),e.getCart(),r["a"].fire({text:"商品已刪除",icon:"success"}),e.isLoading=!1})).catch((function(){r["a"].fire({text:"商品刪除失敗",icon:"error"}),e.isLoading=!1}))}}},u=o,l=a("2877"),d=Object(l["a"])(u,i,s,!1,null,null,null);e["default"]=d.exports},e8b5:function(t,e,a){var i=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-6446ceb8.f78abdc4.js.map